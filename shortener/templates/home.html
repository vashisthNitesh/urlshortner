{% extends "base.html" %}
{% load static %}

{% block title %}genieURL | Home{% endblock %}

{% block content %}
<section class="hero" id="shorten">
  <div class="container hero-grid">
    <div>
      <p class="eyebrow">Next-gen short links</p>
      <h1 class="section-title">Magnetic short links for teams that move fast.</h1>
      <p class="section-subtitle">
        Build branded, trackable links with instant redirects, smart QR codes, and privacy-first analytics across every channel.
      </p>
      <div class="d-flex flex-wrap gap-3 mt-4">
        <a class="btn btn-primary" href="{% url 'register' %}">Start for free</a>
        <a class="btn btn-outline-secondary" href="{% url 'pricing' %}">See pricing</a>
      </div>
      <div class="hero-metrics mt-4">
        <div class="hero-metric">
          <span class="metric-value">52K+</span>
          <span class="metric-label">links created weekly</span>
        </div>
        <div class="hero-metric">
          <span class="metric-value">4.9â˜…</span>
          <span class="metric-label">average customer rating</span>
        </div>
        <div class="hero-metric">
          <span class="metric-value">150+</span>
          <span class="metric-label">countries reached</span>
        </div>
      </div>
      <div class="d-flex flex-wrap gap-2 mt-4">
        <span class="badge-soft">99.9% uptime SLA</span>
        <span class="badge-soft">GDPR ready</span>
        <span class="badge-soft">QR codes included</span>
      </div>
    </div>

    <div class="hero-card">
      <div class="mb-4">
        <h3 class="mb-2">Shorten a link instantly</h3>
        <p class="text-muted">Create a branded short URL and keep every campaign in one place.</p>
      </div>
      <form method="post" class="d-grid gap-3" novalidate>
        {% csrf_token %}
        {% if form.non_field_errors %}
          <div class="alert alert-danger">{{ form.non_field_errors }}</div>
        {% endif %}
        <div>
          <label class="form-label" for="id_destination_url">Long URL</label>
          <input
            class="input{% if form.destination_url.errors %} border-danger{% endif %}"
            id="id_destination_url"
            name="destination_url"
            type="url"
            placeholder="https://your-long-link.com/launch"
            value="{{ form.destination_url.value|default_if_none:'' }}"
            required
          />
          {% if form.destination_url.errors %}
            <div class="inline-error">{{ form.destination_url.errors|striptags }}</div>
          {% endif %}
        </div>
        <div class="grid-two">
          <div>
            <label class="form-label" for="id_slug">Custom alias (optional)</label>
            <input
              class="input"
              id="id_slug"
              name="slug"
              type="text"
              placeholder="e.g. launch-day"
              value="{{ form.slug.value|default_if_none:'' }}"
            />
          </div>
          <div>
            <label class="form-label" for="id_email">Email for history</label>
            <input
              class="input"
              id="id_email"
              name="email"
              type="email"
              placeholder="you@company.com"
              value="{{ form.email.value|default_if_none:'' }}"
              required
            />
          </div>
        </div>
        <div>
          <label class="form-label" for="id_captcha">Quick verification</label>
          <input
            class="input{% if form.captcha.errors %} border-danger{% endif %}"
            id="id_captcha"
            name="captcha"
            type="number"
            placeholder="What is 3 + 4?"
            value="{{ form.captcha.value|default_if_none:'' }}"
            required
          />
          <div class="form-text">We use a lightweight check to keep bots away.</div>
          {% if form.captcha.errors %}
            <div class="inline-error">{{ form.captcha.errors|striptags }}</div>
          {% endif %}
        </div>
        <button class="btn btn-primary" type="submit">Shorten URL</button>
      </form>

      {% if created_short_url %}
        <div class="card-muted mt-4" aria-live="polite">
          <div class="d-flex flex-wrap justify-content-between gap-3">
            <div>
              <p class="fw-semibold mb-1">Short link ready</p>
              <p class="mb-0"><a href="{{ created_short_url }}">{{ created_short_url }}</a></p>
            </div>
            <button class="btn btn-outline-primary btn-sm" type="button" data-copy="{{ created_short_url }}">Copy</button>
          </div>
          <div class="d-flex flex-wrap gap-2 mt-3">
            <span class="badge-soft">ðŸ”’ Secure redirect</span>
            <span class="badge-soft">ðŸ“Š Analytics enabled</span>
          </div>
          <div class="d-flex align-items-center gap-3 mt-3">
            <img class="qr-preview" src="{% static 'images/qr-placeholder.svg' %}" alt="QR code preview" />
            <div>
              <p class="fw-semibold mb-1">Share instantly</p>
              <p class="text-muted small mb-0">Download QR codes and branded short links on the free plan.</p>
            </div>
          </div>
        </div>
      {% endif %}

      {% if not user.is_authenticated %}
        <div class="ad-slot mt-4">Ad slot (Google AdSense / sponsor banner)</div>
      {% endif %}
    </div>
  </div>
</section>

<section class="section section-muted">
  <div class="container">
    <div class="section-head">
      <div>
        <p class="eyebrow">How it works</p>
        <h2 class="section-title">Paste. Shorten. Track. Repeat.</h2>
      </div>
      <a class="btn btn-secondary" href="{% url 'dashboard' %}">Go to dashboard</a>
    </div>
    <div class="feature-grid">
      <div class="card-outline">
        <h3>1. Paste your link</h3>
        <p class="text-muted">Drop any long URL and genieURL preps it with smart metadata and safety checks.</p>
      </div>
      <div class="card-outline">
        <h3>2. Shorten & brand</h3>
        <p class="text-muted">Pick a custom alias, add UTM tags, and keep everything aligned with your brand voice.</p>
      </div>
      <div class="card-outline">
        <h3>3. Track results</h3>
        <p class="text-muted">Analyze clicks, devices, and referrers with dashboards tuned for quick decisions.</p>
      </div>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <div class="section-head">
      <div>
        <p class="eyebrow">Why genieURL</p>
        <h2 class="section-title">Designed for marketers, creators, and growth teams.</h2>
        <p class="section-subtitle">Every touchpoint is optimized for speed, clarity, and conversion.</p>
      </div>
      <a class="btn btn-outline-secondary" href="{% url 'pricing' %}">Compare plans</a>
    </div>
    <div class="feature-grid">
      {% for item in highlights %}
        <div class="card">
          <h3>{{ item }}</h3>
          <p class="text-muted">Built-in controls make it easy to keep links trusted, on-brand, and measurable.</p>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<section class="section section-muted">
  <div class="container">
    <div class="section-head">
      <div>
        <p class="eyebrow">Premium insights</p>
        <h2 class="section-title">Analytics without the clutter.</h2>
        <p class="section-subtitle">Spot trends instantly with clean visualizations, flexible filters, and export-ready reports.</p>
      </div>
      <a class="btn btn-outline-primary" href="{% url 'pricing' %}">Unlock premium</a>
    </div>
    <div class="grid-two">
      <div class="card-dark">
        <h3>Campaign-ready dashboards</h3>
        <p class="text-muted">See click spikes, geo hotspots, and device splits in one streamlined view.</p>
      </div>
      <div class="card-dark">
        <h3>Privacy-first defaults</h3>
        <p class="text-muted">Bot filtering, hashed IPs, and compliance-friendly export controls built in.</p>
      </div>
    </div>
  </div>
</section>

<section class="section" id="contact">
  <div class="container">
    <div class="card-outline d-flex flex-column flex-lg-row align-items-lg-center justify-content-between gap-4">
      <div>
        <h2 class="section-title">Ready to level up your link strategy?</h2>
        <p class="section-subtitle">Talk with our team about migrations, custom domains, or enterprise analytics.</p>
      </div>
      <div class="d-flex flex-wrap gap-3">
        <a class="btn btn-secondary" href="mailto:hello@genieurl.com">Contact sales</a>
        <a class="btn btn-outline-secondary" href="{% url 'register' %}">Start free trial</a>
      </div>
    </div>
  </div>
</section>
{% endblock %}
