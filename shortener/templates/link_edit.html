{% extends "base.html" %}

{% block title %}Edit link | genieURL{% endblock %}

{% block content %}
<section class="section">
  <div class="container">
    <div class="card">
      <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-3 gap-2">
        <div>
          <h3 class="mb-1">Edit {{ link.slug }}</h3>
          <p class="text-muted mb-0">Update destinations, UTM tags, or scheduling rules.</p>
        </div>
        <a class="btn btn-outline-secondary" href="{% url 'link_detail' link.slug %}">View analytics</a>
      </div>
      <form method="post" class="row g-3" novalidate>
        {% csrf_token %}
        {% for field in form %}
          <div class="col-12">
            <label class="form-label" for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.help_text %}
              <div class="form-text">{{ field.help_text }}</div>
            {% endif %}
            {% if field.errors %}
              <div class="inline-error">{{ field.errors|striptags }}</div>
            {% endif %}
          </div>
        {% endfor %}
        <div class="col-12 d-flex flex-wrap gap-2">
          <button class="btn btn-primary" type="submit">Save changes</button>
          <a class="btn btn-outline-secondary" href="{% url 'dashboard' %}">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</section>
{% endblock %}
